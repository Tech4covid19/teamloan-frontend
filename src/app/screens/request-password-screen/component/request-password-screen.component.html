<div class="request-password-container">
    <h1 class="title">Esqueceu-se da password?</h1>
    <h2 class="subtitle" *ngIf="!requestSucceeded || !submitted">
        Insira o seu email para redefinir a sua password.
    </h2>
    <form [formGroup]="form" (submit)="onSubmit()" *ngIf="!requestSucceeded || !submitted">
        <div class="form-fields">
            <fieldset class="field-container">
                <app-input-text
                    formControlName="email"
                    type="text"
                    placeholder="Email"
                ></app-input-text>
                <div *ngIf="submitted && emailControl?.errors?.required" class="error-message">
                    Campo obrigatório
                </div>
                <div
                    *ngIf="
                        submitted && !emailControl?.errors?.required && emailControl?.errors?.format
                    "
                    class="error-message"
                >
                    Email inválido
                </div>
                <div *ngIf="submitted && !requestSucceeded" class="error-message">
                    {{ requestErrorMessage }}
                </div>
            </fieldset>
        </div>

        <div class="buttons-container">
            <app-button
                label="Enviar email"
                type="submit"
                [iconStatus]="submitting && buttonStatus"
                class="button-submit"
            ></app-button>
        </div>
    </form>
    <app-feedback *ngIf="requestSucceeded && submitted" [feedback]="successFeedback"></app-feedback>
</div>
